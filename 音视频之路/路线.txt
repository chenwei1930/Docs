
大话音视频解码

爱奇艺网页上看电影，我们知道网页是http协议，看电影的时候。解协议就是解开http协议获取一个格式文件，这个格式文件就是音频和视频按一定排列存放的数据，如mp4，解封装就是把该压缩文件解压到为一部分音频和一部分视频。这两部分其实还是有自己的格式，如图像有YUV420P，rgb，音频有AAC，MP3。你就需要解码成为非压缩的视频/音频原始数据。 再通过屏幕和声卡变现出来。


流媒体协议：

RTSP+RTP  TCP+UDP
RTMP      TCPRTMFP UDP
MMS       TCP/UDP
HTTP      TCP

封装格式:
HEVC(H.265) 
H.264当前使用最多的视频编码方案就是H.264。
MPEG4
MPEG2
VP9
VP8
VC-1

音频编码
音频编码的主要作用是将音频采样数据（PCM等）压缩成为音频码流，从而降低音频的数据量。



有两种视频编码方案是最新推出的：VP9和HEVC。目前这两种方案都处于研发阶段，还没有到达实用的程度。当前使用最多的视频编码方案就是H.264。



《视频压缩编码和音频压缩编码的基本原理》
（1）视频信号的冗余信息删除，减少数据
数据冗余：像素间关联性很强，删除细节，为无损压缩
视觉冗余：利用人眼的敏感物，删除人眼识别较弱的部分，为有损压缩。
数字视频信号的压缩正是基于上述两种条件，使得视频数据量得以极大的压缩，有利于传输和存储。

(2)一般数字视频压缩方式3种
使用变换编码来消去除图像的帧内冗余，
用运动估计和运动补偿来去除图像的帧间冗余，
用熵编码来进一步提高压缩的效率。

变换编码： 

DTC变换（离散余弦变换）：把图片从二维的图片映射到一维频率域。一张图切割维8*8像素的
每块。每块数据分为8*8格，变换后就会将人眼中不敏感的高频信息降低。

==========================================================================================================
MediaInfo是一个专门查看视音频格式的工具。

视频播放器播放一个互联网上的视频文件，需要经过以下几个步骤：解协议，解封装，解码视音频，视音频同步。如果播放本地文件则不需要解协议，为以下几个步骤：解封装，解码视音频，视音频同步。

解协议的作用，就是将流媒体协议的数据，解析为标准的相应的封装格式数据。视音频在网络上传播的时候，常常采用各种流媒体协议，例如HTTP，RTMP，或是MMS等等。这些协议在传输视音频数据的同时，也会传输一些信令数据。这些信令数据包括对播放的控制（播放，暂停，停止），或者对网络状态的描述等。解协议的过程中会去除掉信令数据而只保留视音频数据。例如，采用RTMP协议传输的数据，经过解协议操作后，输出FLV格式的数据。

解封装的作用，就是将输入的封装格式的数据，分离成为音频流压缩编码数据和视频流压缩编码数据。封装格式种类很多，例如MP4，MKV，RMVB，TS，FLV，AVI等等，它的作用就是将已经压缩编码的视频数据和音频数据按照一定的格式放到一起。例如，FLV格式的数据，经过解封装操作后，输出H.264编码的视频码流和AAC编码的音频码流。

解码的作用，就是将视频/音频压缩编码数据，解码成为非压缩的视频/音频原始数据。音频的压缩编码标准包含AAC，MP3，AC-3等等，视频的压缩编码标准则包含H.264，MPEG2，VC-1等等。解码是整个系统中最重要也是最复杂的一个环节。通过解码，压缩编码的视频数据输出成为非压缩的颜色数据，例如YUV420P，RGB等等；压缩编码的音频数据输出成为非压缩的音频抽样数据，例如PCM数据。

视音频同步的作用，就是根据解封装模块处理过程中获取到的参数信息，同步解码出来的视频和音频数据，并将视频音频数据送至系统的显卡和声卡播放出来。
